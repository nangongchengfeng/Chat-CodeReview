            messages = [
                {"role": "system",
                 "content": "ä½ æ˜¯æ˜¯ä¸€ä½èµ„æ·±ç¼–ç¨‹ä¸“å®¶ï¼Œæ­£å¯¹gitlabçš„pushçš„commitè¿›è¡Œä»£ç è¡¥ä¸review [ä»£ç ä¸­ï¼š- è¡¨ç¤ºåˆ é™¤çš„ä»£ç ï¼Œ+ è¡¨ç¤ºæ–°å¢çš„ä»£ç  # è¡¨ç¤ºä»£ç æ³¨é‡Š]ï¼Œä»¥æ ¼å¼ã€Œå˜æ›´è¯„åˆ†ï¼šå®é™…çš„åˆ†æ•°ã€ç»™å˜æ›´æ‰“åˆ†ï¼Œåˆ†æ•°åŒºé—´ä¸º0~100åˆ†ã€‚è¾“å‡ºæ ¼å¼ï¼šç„¶åï¼Œä»¥ç²¾ç‚¼çš„è¯­è¨€ã€ä¸¥å‰çš„è¯­æ°”æŒ‡å‡ºå­˜åœ¨çš„é—®é¢˜ã€‚å¦‚æœä½ è§‰å¾—å¿…è¦çš„æƒ…å†µä¸‹ï¼Œå¯ç›´æ¥ç»™å‡ºä¿®æ”¹åçš„å†…å®¹ã€‚ä½ çš„åé¦ˆå†…å®¹å¿…é¡»ä½¿ç”¨ä¸¥è°¨çš„markdownæ ¼å¼ã€‚"
                 },
                {"role": "user",
                 "content": f"è¯·reviewè¿™éƒ¨åˆ†ä»£ç å˜æ›´{change}",
                 },
            ]



H:\Gitlab-Code\chat-review\venv\Scripts\python.exe H:\Gitlab-Code\chat-review\reconfig\chat_test.py

ä½ æƒ³è¦å¯¹è¯çš„æ¬¡æ•°æ˜¯å¤šå°‘å‘¢ï¼Ÿ
(è¯·è¾“å…¥æ•°å­—å³å¯)10
è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å‘¢ï¼Ÿ
(è¯·è¾“å…¥æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜)ï¼šä½ æ˜¯è°

{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "content": "\u6211\u662f\u4e00\u4e2a\u4eba\u5de5\u667a\u80fd\u52a9\u624b\uff0c\u53ef\u4ee5\u56de\u7b54\u4f60\u7684\u95ee\u9898\u548c\u63d0\u4f9b\u5e2e\u52a9\u3002",
        "role": "assistant"
      }
    }
  ],
  "created": 1688780915,
  "id": "chatcmpl-7ZrLn4oIDdsW748f3yRu9508mQIoU",
  "model": "gpt-3.5-turbo-0613",
  "object": "chat.completion",
  "usage": {
    "completion_tokens": 27,
    "prompt_tokens": 11,
    "total_tokens": 38
  }
}
[{'role': 'user', 'content': 'ä½ æ˜¯è°'}, {'role': 'assistant', 'content': 'æˆ‘æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”ä½ çš„é—®é¢˜å’Œæä¾›å¸®åŠ©ã€‚'}]

ğŸ‘½: æˆ‘æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”ä½ çš„é—®é¢˜å’Œæä¾›å¸®åŠ©ã€‚


æœ¬æ¬¡å¯¹è¯å…±æ¶ˆè€—äº†38ä¸ªtokenï¼ŒèŠ±äº†0.00057å…ƒï¼ˆäººæ°‘å¸ï¼‰

æ‚¨è¿˜å¯ä»¥ç»§ç»­ä¸æˆ‘äº¤æµï¼Œè¯·æ‚¨ç»§ç»­è¯´ï¼š
(è¯·è¾“å…¥æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜)ï¼šæˆ‘å«ç‹é˜³æ˜

{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "content": "\u5f88\u9ad8\u5174\u8ba4\u8bc6\u4f60\uff0c\u738b\u9633\u660e\u5148\u751f\u3002\u6709\u4ec0\u4e48\u6211\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7684\u5417\uff1f",
        "role": "assistant"
      }
    }
  ],
  "created": 1688780950,
  "id": "chatcmpl-7ZrMMyfROfpZcVPP2WQEFJvo6pXSX",
  "model": "gpt-3.5-turbo-0613",
  "object": "chat.completion",
  "usage": {
    "completion_tokens": 32,
    "prompt_tokens": 53,
    "total_tokens": 85
  }
}
[{'role': 'user', 'content': 'ä½ æ˜¯è°'}, {'role': 'assistant', 'content': 'æˆ‘æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”ä½ çš„é—®é¢˜å’Œæä¾›å¸®åŠ©ã€‚'}, {'role': 'user', 'content': 'æˆ‘å«ç‹é˜³æ˜'}, {'role': 'assistant', 'content': 'å¾ˆé«˜å…´è®¤è¯†ä½ ï¼Œç‹é˜³æ˜å…ˆç”Ÿã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ'}]

ğŸ‘½: å¾ˆé«˜å…´è®¤è¯†ä½ ï¼Œç‹é˜³æ˜å…ˆç”Ÿã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ


æœ¬æ¬¡å¯¹è¯å…±æ¶ˆè€—äº†85ä¸ªtokenï¼ŒèŠ±äº†0.00127å…ƒï¼ˆäººæ°‘å¸ï¼‰

æ‚¨è¿˜å¯ä»¥ç»§ç»­ä¸æˆ‘äº¤æµï¼Œè¯·æ‚¨ç»§ç»­è¯´ï¼š
(è¯·è¾“å…¥æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜)ï¼šæˆ‘æ˜¯è°å•Š

{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "content": "\u5f88\u62b1\u6b49\uff0c\u6211\u65e0\u6cd5\u77e5\u9053\u4f60\u662f\u8c01\uff0c\u56e0\u4e3a\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u6587\u5b57\u4ea4\u6d41\u3002\u5982\u679c\u4f60\u613f\u610f\u544a\u8bc9\u6211\u66f4\u591a\u5173\u4e8e\u4f60\u81ea\u5df1\u7684\u4fe1\u606f\uff0c\u6211\u4f1a\u5c3d\u529b\u63d0\u4f9b\u5e2e\u52a9\u3002",
        "role": "assistant"
      }
    }
  ],
  "created": 1688781062,
  "id": "chatcmpl-7ZrOAzTzYVMzqPvq3CYrMGFZwGfuE",
  "model": "gpt-3.5-turbo-0613",
  "object": "chat.completion",
  "usage": {
    "completion_tokens": 59,
    "prompt_tokens": 99,
    "total_tokens": 158
  }
}
[{'role': 'user', 'content': 'ä½ æ˜¯è°'}, {'role': 'assistant', 'content': 'æˆ‘æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”ä½ çš„é—®é¢˜å’Œæä¾›å¸®åŠ©ã€‚'}, {'role': 'user', 'content': 'æˆ‘å«ç‹é˜³æ˜'}, {'role': 'assistant', 'content': 'å¾ˆé«˜å…´è®¤è¯†ä½ ï¼Œç‹é˜³æ˜å…ˆç”Ÿã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ'}, {'role': 'user', 'content': 'æˆ‘æ˜¯è°å•Š'}, {'role': 'assistant', 'content': 'å¾ˆæŠ±æ­‰ï¼Œæˆ‘æ— æ³•çŸ¥é“ä½ æ˜¯è°ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½é€šè¿‡æ–‡å­—äº¤æµã€‚å¦‚æœä½ æ„¿æ„å‘Šè¯‰æˆ‘æ›´å¤šå…³äºä½ è‡ªå·±çš„ä¿¡æ¯ï¼Œæˆ‘ä¼šå°½åŠ›æä¾›å¸®åŠ©ã€‚'}]

ğŸ‘½: å¾ˆæŠ±æ­‰ï¼Œæˆ‘æ— æ³•çŸ¥é“ä½ æ˜¯è°ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½é€šè¿‡æ–‡å­—äº¤æµã€‚å¦‚æœä½ æ„¿æ„å‘Šè¯‰æˆ‘æ›´å¤šå…³äºä½ è‡ªå·±çš„ä¿¡æ¯ï¼Œæˆ‘ä¼šå°½åŠ›æä¾›å¸®åŠ©ã€‚


æœ¬æ¬¡å¯¹è¯å…±æ¶ˆè€—äº†158ä¸ªtokenï¼ŒèŠ±äº†0.00237å…ƒï¼ˆäººæ°‘å¸ï¼‰

æ‚¨è¿˜å¯ä»¥ç»§ç»­ä¸æˆ‘äº¤æµï¼Œè¯·æ‚¨ç»§ç»­è¯´ï¼š
(è¯·è¾“å…¥æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜)ï¼šä½ éš¾é“ä¸çŸ¥é“æˆ‘å«ç‹é˜³æ˜

{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "content": "\u975e\u5e38\u62b1\u6b49\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u4eba\u5de5\u667a\u80fd\u52a9\u624b\uff0c\u6211\u6ca1\u6709\u80fd\u529b\u76f4\u63a5\u77e5\u9053\u4f60\u7684\u4e2a\u4eba\u8eab\u4efd\u548c\u4fe1\u606f\u3002\u6211\u53ea\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u65e0\u6cd5\u8bc6\u522b\u548c\u8bb0\u5fc6\u7279\u5b9a\u7684\u4e2a\u4eba\u4fe1\u606f\u3002\u5982\u679c\u4f60\u6709\u4efb\u4f55\u95ee\u9898\u6216\u9700\u8981\u5e2e\u52a9\uff0c\u6211\u4f1a\u5c3d\u529b\u63d0\u4f9b\u5e2e\u52a9\u3002",
        "role": "assistant"
      }
    }
  ],
  "created": 1688781169,
  "id": "chatcmpl-7ZrPtze7KU0z9GWjUMb1bKQCTKROh",
  "model": "gpt-3.5-turbo-0613",
  "object": "chat.completion",
  "usage": {
    "completion_tokens": 83,
    "prompt_tokens": 180,
    "total_tokens": 263
  }
}
[{'role': 'user', 'content': 'ä½ æ˜¯è°'}, {'role': 'assistant', 'content': 'æˆ‘æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”ä½ çš„é—®é¢˜å’Œæä¾›å¸®åŠ©ã€‚'}, {'role': 'user', 'content': 'æˆ‘å«ç‹é˜³æ˜'}, {'role': 'assistant', 'content': 'å¾ˆé«˜å…´è®¤è¯†ä½ ï¼Œç‹é˜³æ˜å…ˆç”Ÿã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ'}, {'role': 'user', 'content': 'æˆ‘æ˜¯è°å•Š'}, {'role': 'assistant', 'content': 'å¾ˆæŠ±æ­‰ï¼Œæˆ‘æ— æ³•çŸ¥é“ä½ æ˜¯è°ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½é€šè¿‡æ–‡å­—äº¤æµã€‚å¦‚æœä½ æ„¿æ„å‘Šè¯‰æˆ‘æ›´å¤šå…³äºä½ è‡ªå·±çš„ä¿¡æ¯ï¼Œæˆ‘ä¼šå°½åŠ›æä¾›å¸®åŠ©ã€‚'}, {'role': 'user', 'content': 'ä½ éš¾é“ä¸çŸ¥é“æˆ‘å«ç‹é˜³æ˜'}, {'role': 'assistant', 'content': 'éå¸¸æŠ±æ­‰ï¼Œä½œä¸ºä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæˆ‘æ²¡æœ‰èƒ½åŠ›ç›´æ¥çŸ¥é“ä½ çš„ä¸ªäººèº«ä»½å’Œä¿¡æ¯ã€‚æˆ‘åªæ˜¯ä¸€ä¸ªç¨‹åºï¼Œæ— æ³•è¯†åˆ«å’Œè®°å¿†ç‰¹å®šçš„ä¸ªäººä¿¡æ¯ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œæˆ‘ä¼šå°½åŠ›æä¾›å¸®åŠ©ã€‚'}]

ğŸ‘½: éå¸¸æŠ±æ­‰ï¼Œä½œä¸ºä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæˆ‘æ²¡æœ‰èƒ½åŠ›ç›´æ¥çŸ¥é“ä½ çš„ä¸ªäººèº«ä»½å’Œä¿¡æ¯ã€‚æˆ‘åªæ˜¯ä¸€ä¸ªç¨‹åºï¼Œæ— æ³•è¯†åˆ«å’Œè®°å¿†ç‰¹å®šçš„ä¸ªäººä¿¡æ¯ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œæˆ‘ä¼šå°½åŠ›æä¾›å¸®åŠ©ã€‚


æœ¬æ¬¡å¯¹è¯å…±æ¶ˆè€—äº†263ä¸ªtokenï¼ŒèŠ±äº†0.00394å…ƒï¼ˆäººæ°‘å¸ï¼‰

æ‚¨è¿˜å¯ä»¥ç»§ç»­ä¸æˆ‘äº¤æµï¼Œè¯·æ‚¨ç»§ç»­è¯´ï¼š
(è¯·è¾“å…¥æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜)ï¼š